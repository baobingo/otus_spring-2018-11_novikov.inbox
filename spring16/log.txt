2019-04-07 17:04:49.601  INFO 366356 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 366356 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 17:04:49.607  INFO 366356 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 17:04:49.650  INFO 366356 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 17:04:49.650  INFO 366356 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 17:04:51.376  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:04:51.378  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:04:51.435  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50ms. Found 0 repository interfaces.
2019-04-07 17:04:51.435  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:04:51.436  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:04:51.464  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27ms. Found 1 repository interfaces.
2019-04-07 17:04:51.816  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:04:51.817  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:04:51.880  INFO 366356 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 17:04:51.882  INFO 366356 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 17:04:51.905  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85ms. Found 1 repository interfaces.
2019-04-07 17:04:51.911  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:04:51.912  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:04:51.953  INFO 366356 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 17:04:51.978  INFO 366356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65ms. Found 2 repository interfaces.
2019-04-07 17:04:52.976  INFO 366356 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$49e4e5b4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:04:52.998  INFO 366356 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4dcd558a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:04:53.026  INFO 366356 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:04:53.364  INFO 366356 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 17:04:53.490  INFO 366356 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 17:04:53.622  INFO 366356 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 17:04:54.605  INFO 366356 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 17:04:54.615  INFO 366356 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 17:04:54.944  INFO 366356 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 17:04:55.823  INFO 366356 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 17:04:56.840  INFO 366356 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@34399e40'
2019-04-07 17:04:56.844  INFO 366356 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 17:04:56.912  INFO 366356 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 17:04:58.521  INFO 366356 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 17:04:58.615  INFO 366356 --- [cluster-ClusterId{value='5caa038a4d667a9714be7304', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:127}] to localhost:27017
2019-04-07 17:04:58.623  INFO 366356 --- [cluster-ClusterId{value='5caa038a4d667a9714be7304', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3845600}
2019-04-07 17:04:59.401  INFO 366356 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 17:04:59.685  INFO 366356 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:128}] to localhost:27017
2019-04-07 17:04:59.753  INFO 366356 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@1095f023 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 17:04:59.755  INFO 366356 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@702c3843 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 17:05:00.078  INFO 366356 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 17:05:00.160  INFO 366356 --- [restartedMain] org.reflections.Reflections              : Reflections took 45 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 17:05:00.191  INFO 366356 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 17:05:00.193  INFO 366356 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 17:05:00.193  INFO 366356 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 17:05:00.201  INFO 366356 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 17:05:00.336  INFO 366356 --- [cluster-ClusterId{value='5caa038b4d667a9714be7305', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:129}] to localhost:27017
2019-04-07 17:05:00.338  INFO 366356 --- [cluster-ClusterId{value='5caa038b4d667a9714be7305', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1777700}
2019-04-07 17:05:00.374  INFO 366356 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:130}] to localhost:27017
2019-04-07 17:05:00.374  INFO 366356 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:131}] to localhost:27017
2019-04-07 17:05:00.901  INFO 366356 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/actuator'
2019-04-07 17:05:01.106  WARN 366356 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 17:05:01.108  INFO 366356 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 17:05:01.125  INFO 366356 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 17:05:01.895  INFO 366356 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 17:05:01.901  INFO 366356 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 13.022 seconds (JVM running for 19.631)
2019-04-07 17:05:02.180  INFO 366356 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 17:05:02.181  INFO 366356 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 17:05:02.193  INFO 366356 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 17:05:02.217  WARN 366356 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:05:02.217  INFO 366356 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 17:05:02.220  WARN 366356 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:05:02.221  INFO 366356 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 17:05:02.224  WARN 366356 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:05:02.224  INFO 366356 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 17:05:02.226  WARN 366356 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:05:02.228  INFO 366356 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 17:05:02.283  INFO 366356 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 17:38:39.184  INFO 399448 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 399448 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 17:38:39.187  INFO 399448 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 17:38:39.245  INFO 399448 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 17:38:39.246  INFO 399448 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 17:38:42.335  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:38:42.337  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:38:42.379  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38ms. Found 0 repository interfaces.
2019-04-07 17:38:42.380  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:38:42.381  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:38:42.407  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26ms. Found 1 repository interfaces.
2019-04-07 17:38:42.752  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:38:42.753  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:38:42.831  INFO 399448 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 17:38:42.833  INFO 399448 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 17:38:42.864  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108ms. Found 1 repository interfaces.
2019-04-07 17:38:42.872  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:38:42.872  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:38:42.923  INFO 399448 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 17:38:42.956  INFO 399448 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84ms. Found 2 repository interfaces.
2019-04-07 17:38:43.365  INFO 399448 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$61d908f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:38:43.382  INFO 399448 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$a060065] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:38:43.392  INFO 399448 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:38:44.069  INFO 399448 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 17:38:44.184  INFO 399448 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 17:38:44.299  INFO 399448 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 17:38:44.363  INFO 399448 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 17:38:44.367  INFO 399448 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 17:38:44.502  INFO 399448 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 17:38:44.717  INFO 399448 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 17:38:45.374  INFO 399448 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5f764b5c'
2019-04-07 17:38:45.378  INFO 399448 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 17:38:45.427  INFO 399448 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 17:38:46.842  INFO 399448 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 17:38:46.901  INFO 399448 --- [cluster-ClusterId{value='5caa0b764d667a1858a16c20', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:132}] to localhost:27017
2019-04-07 17:38:46.908  INFO 399448 --- [cluster-ClusterId{value='5caa0b764d667a1858a16c20', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2380300}
2019-04-07 17:38:47.200  INFO 399448 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 17:38:47.377  INFO 399448 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:133}] to localhost:27017
2019-04-07 17:38:47.412  INFO 399448 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@10f0d3a8 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 17:38:47.413  INFO 399448 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@10b209f2 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 17:38:47.610  INFO 399448 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 17:38:47.657  INFO 399448 --- [restartedMain] org.reflections.Reflections              : Reflections took 27 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 17:38:47.671  INFO 399448 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 17:38:47.673  INFO 399448 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 17:38:47.673  INFO 399448 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 17:38:47.677  INFO 399448 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 17:38:47.897  INFO 399448 --- [cluster-ClusterId{value='5caa0b774d667a1858a16c21', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:134}] to localhost:27017
2019-04-07 17:38:47.911  INFO 399448 --- [cluster-ClusterId{value='5caa0b774d667a1858a16c21', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=10929100}
2019-04-07 17:38:48.188  INFO 399448 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:135}] to localhost:27017
2019-04-07 17:38:48.196  INFO 399448 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:136}] to localhost:27017
2019-04-07 17:38:48.920  INFO 399448 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/actuator'
2019-04-07 17:38:49.181  WARN 399448 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 17:38:49.185  INFO 399448 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 17:38:49.205  INFO 399448 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 17:38:49.568  INFO 399448 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 17:38:49.573  INFO 399448 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 11.002 seconds (JVM running for 13.31)
2019-04-07 17:38:49.778  INFO 399448 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 17:38:49.779  INFO 399448 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 17:38:49.787  INFO 399448 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 17:38:49.807  WARN 399448 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:38:49.808  INFO 399448 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 17:38:49.812  WARN 399448 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:38:49.812  INFO 399448 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 17:38:49.814  WARN 399448 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:38:49.815  INFO 399448 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 17:38:49.818  WARN 399448 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:38:49.819  INFO 399448 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 17:38:49.821  WARN 399448 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:38:49.821  INFO 399448 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 17:39:26.636  INFO 401244 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 401244 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 17:39:26.642  INFO 401244 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 17:39:26.735  INFO 401244 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 17:39:26.737  INFO 401244 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 17:39:28.914  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:39:28.917  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:39:28.987  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60ms. Found 0 repository interfaces.
2019-04-07 17:39:28.989  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:39:28.990  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:39:29.033  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43ms. Found 1 repository interfaces.
2019-04-07 17:39:29.691  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:39:29.691  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:39:29.773  INFO 401244 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 17:39:29.775  INFO 401244 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 17:39:29.800  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 104ms. Found 1 repository interfaces.
2019-04-07 17:39:29.811  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:39:29.812  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:39:29.900  INFO 401244 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 17:39:29.939  INFO 401244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126ms. Found 2 repository interfaces.
2019-04-07 17:39:31.202  INFO 401244 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3a639595] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:39:31.256  INFO 401244 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3e4c056b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:39:31.285  INFO 401244 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:39:31.752  INFO 401244 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 17:39:31.868  INFO 401244 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 17:39:31.997  INFO 401244 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 17:39:32.073  INFO 401244 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 17:39:32.075  INFO 401244 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 17:39:32.861  INFO 401244 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 17:39:33.335  INFO 401244 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 17:39:34.218  INFO 401244 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@62e2b5cd'
2019-04-07 17:39:34.224  INFO 401244 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 17:39:34.285  INFO 401244 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 17:39:35.985  INFO 401244 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 17:39:36.054  INFO 401244 --- [cluster-ClusterId{value='5caa0ba74d667a1f5c2d1ae5', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:137}] to localhost:27017
2019-04-07 17:39:36.065  INFO 401244 --- [cluster-ClusterId{value='5caa0ba74d667a1f5c2d1ae5', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=6018700}
2019-04-07 17:39:36.862  INFO 401244 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 17:39:37.231  INFO 401244 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:138}] to localhost:27017
2019-04-07 17:39:37.300  INFO 401244 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@51a72bc3 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 17:39:37.303  INFO 401244 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@39d12e4e from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 17:39:37.609  INFO 401244 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 17:39:37.688  INFO 401244 --- [restartedMain] org.reflections.Reflections              : Reflections took 49 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 17:39:37.711  INFO 401244 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 17:39:37.714  INFO 401244 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 17:39:37.714  INFO 401244 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 17:39:37.718  INFO 401244 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 17:39:37.950  INFO 401244 --- [cluster-ClusterId{value='5caa0ba84d667a1f5c2d1ae6', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:139}] to localhost:27017
2019-04-07 17:39:37.952  INFO 401244 --- [cluster-ClusterId{value='5caa0ba84d667a1f5c2d1ae6', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1997600}
2019-04-07 17:39:37.984  INFO 401244 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:140}] to localhost:27017
2019-04-07 17:39:37.984  INFO 401244 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:141}] to localhost:27017
2019-04-07 17:39:38.564  INFO 401244 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 17:39:38.788  WARN 401244 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 17:39:38.792  INFO 401244 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 17:39:38.811  INFO 401244 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 17:39:39.838  INFO 401244 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 17:39:39.847  INFO 401244 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 14.781 seconds (JVM running for 18.234)
2019-04-07 17:39:40.151  INFO 401244 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 17:39:40.154  INFO 401244 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 17:39:40.167  INFO 401244 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 17:39:40.199  WARN 401244 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:39:40.200  INFO 401244 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 17:39:40.206  WARN 401244 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:39:40.208  INFO 401244 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 17:39:40.212  WARN 401244 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:39:40.213  INFO 401244 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 17:39:40.218  WARN 401244 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:39:40.219  INFO 401244 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 17:39:40.221  WARN 401244 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:39:40.222  INFO 401244 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 17:45:32.631  INFO 401616 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 401616 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 17:45:32.635  INFO 401616 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 17:45:33.024  INFO 401616 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 17:45:33.027  INFO 401616 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 17:45:34.397  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:45:34.398  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:45:34.438  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37ms. Found 0 repository interfaces.
2019-04-07 17:45:34.440  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:45:34.441  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:45:34.465  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24ms. Found 1 repository interfaces.
2019-04-07 17:45:34.791  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:45:34.791  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:45:34.850  INFO 401616 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 17:45:34.851  INFO 401616 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 17:45:34.873  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80ms. Found 1 repository interfaces.
2019-04-07 17:45:34.879  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 17:45:34.880  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 17:45:34.918  INFO 401616 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 17:45:34.941  INFO 401616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61ms. Found 2 repository interfaces.
2019-04-07 17:45:35.824  INFO 401616 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bbfceb15] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:45:35.848  INFO 401616 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bfe55aeb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:45:35.863  INFO 401616 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 17:45:36.160  INFO 401616 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 17:45:36.264  INFO 401616 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 17:45:36.361  INFO 401616 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 17:45:36.425  INFO 401616 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 17:45:36.427  INFO 401616 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 17:45:36.548  INFO 401616 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 17:45:36.730  INFO 401616 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 17:45:37.347  INFO 401616 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@641fc898'
2019-04-07 17:45:37.361  INFO 401616 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 17:45:37.410  INFO 401616 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 17:45:38.849  INFO 401616 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 17:45:38.901  INFO 401616 --- [cluster-ClusterId{value='5caa0d124d667a20d00b45d2', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:142}] to localhost:27017
2019-04-07 17:45:38.908  INFO 401616 --- [cluster-ClusterId{value='5caa0d124d667a20d00b45d2', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2323100}
2019-04-07 17:45:39.220  INFO 401616 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 17:45:39.425  INFO 401616 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:143}] to localhost:27017
2019-04-07 17:45:39.464  INFO 401616 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@2ad8aa39 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 17:45:39.465  INFO 401616 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@10d616eb from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 17:45:40.311  INFO 401616 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 17:45:40.443  INFO 401616 --- [restartedMain] org.reflections.Reflections              : Reflections took 92 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 17:45:40.479  INFO 401616 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 17:45:40.482  INFO 401616 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 17:45:40.483  INFO 401616 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 17:45:40.489  INFO 401616 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 17:45:40.758  INFO 401616 --- [cluster-ClusterId{value='5caa0d134d667a20d00b45d3', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:144}] to localhost:27017
2019-04-07 17:45:40.761  INFO 401616 --- [cluster-ClusterId{value='5caa0d134d667a20d00b45d3', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2915000}
2019-04-07 17:45:40.801  INFO 401616 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:145}] to localhost:27017
2019-04-07 17:45:40.802  INFO 401616 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:146}] to localhost:27017
2019-04-07 17:45:41.572  INFO 401616 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 17:45:41.823  WARN 401616 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 17:45:41.827  INFO 401616 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 17:45:41.845  INFO 401616 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 17:45:42.233  INFO 401616 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 17:45:42.243  INFO 401616 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 10.346 seconds (JVM running for 12.818)
2019-04-07 17:45:43.061  INFO 401616 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 17:45:43.064  INFO 401616 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 17:45:43.082  INFO 401616 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 17:45:43.129  WARN 401616 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:45:43.130  INFO 401616 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 17:45:43.144  WARN 401616 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:45:43.149  INFO 401616 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 17:45:43.155  WARN 401616 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:45:43.156  INFO 401616 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 17:45:43.161  WARN 401616 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:45:43.161  INFO 401616 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 17:45:43.165  WARN 401616 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 17:45:43.166  INFO 401616 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 18:37:20.193  INFO 415640 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 415640 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 18:37:20.195  INFO 415640 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 18:37:20.237  INFO 415640 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 18:37:20.237  INFO 415640 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 18:37:21.049  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:37:21.050  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:37:21.088  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35ms. Found 0 repository interfaces.
2019-04-07 18:37:21.089  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:37:21.090  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:37:21.111  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21ms. Found 1 repository interfaces.
2019-04-07 18:37:21.920  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:37:21.921  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:37:22.008  INFO 415640 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 18:37:22.011  INFO 415640 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 18:37:22.039  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113ms. Found 1 repository interfaces.
2019-04-07 18:37:22.045  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:37:22.046  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:37:22.091  INFO 415640 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 18:37:22.117  INFO 415640 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70ms. Found 2 repository interfaces.
2019-04-07 18:37:22.543  INFO 415640 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9e0e9c99] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:37:22.564  INFO 415640 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$a1f70c6f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:37:22.578  INFO 415640 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:37:22.827  INFO 415640 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 18:37:22.905  INFO 415640 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 18:37:22.988  INFO 415640 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 18:37:23.047  INFO 415640 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 18:37:23.048  INFO 415640 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 18:37:23.167  INFO 415640 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 18:37:23.323  INFO 415640 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 18:37:24.585  INFO 415640 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@31bc14fb'
2019-04-07 18:37:24.590  INFO 415640 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 18:37:24.643  INFO 415640 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 18:37:25.433  INFO 415640 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:37:25.473  INFO 415640 --- [cluster-ClusterId{value='5caa19354d667a57988442ec', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:147}] to localhost:27017
2019-04-07 18:37:25.478  INFO 415640 --- [cluster-ClusterId{value='5caa19354d667a57988442ec', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1994600}
2019-04-07 18:37:26.005  INFO 415640 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:37:26.402  INFO 415640 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:148}] to localhost:27017
2019-04-07 18:37:26.454  INFO 415640 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@700f24b6 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:37:26.457  INFO 415640 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@decee1d from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:37:26.728  INFO 415640 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 18:37:26.786  INFO 415640 --- [restartedMain] org.reflections.Reflections              : Reflections took 34 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 18:37:26.806  INFO 415640 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 18:37:26.809  INFO 415640 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 18:37:26.809  INFO 415640 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 18:37:26.813  INFO 415640 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 18:37:27.000  INFO 415640 --- [cluster-ClusterId{value='5caa19364d667a57988442ed', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:149}] to localhost:27017
2019-04-07 18:37:27.003  INFO 415640 --- [cluster-ClusterId{value='5caa19364d667a57988442ed', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2568000}
2019-04-07 18:37:27.034  INFO 415640 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:151}] to localhost:27017
2019-04-07 18:37:27.034  INFO 415640 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:150}] to localhost:27017
2019-04-07 18:37:27.511  INFO 415640 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 18:37:27.698  WARN 415640 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 18:37:27.700  INFO 415640 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 18:37:27.714  INFO 415640 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 18:37:27.995  INFO 415640 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 18:37:27.999  INFO 415640 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 8.381 seconds (JVM running for 10.608)
2019-04-07 18:37:28.158  INFO 415640 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 18:37:28.160  INFO 415640 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 18:37:28.167  INFO 415640 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 18:37:28.183  WARN 415640 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:37:28.183  INFO 415640 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 18:37:28.186  WARN 415640 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:37:28.187  INFO 415640 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 18:37:28.189  WARN 415640 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:37:28.189  INFO 415640 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 18:37:28.192  WARN 415640 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:37:28.192  INFO 415640 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 18:37:28.194  WARN 415640 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:37:28.194  INFO 415640 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 18:37:56.206  INFO 414856 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 414856 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 18:37:56.209  INFO 414856 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 18:37:56.270  INFO 414856 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 18:37:56.270  INFO 414856 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 18:37:57.495  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:37:57.496  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:37:57.535  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34ms. Found 0 repository interfaces.
2019-04-07 18:37:57.535  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:37:57.536  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:37:57.559  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23ms. Found 1 repository interfaces.
2019-04-07 18:37:58.441  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:37:58.442  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:37:58.529  INFO 414856 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 18:37:58.531  INFO 414856 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 18:37:58.560  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114ms. Found 1 repository interfaces.
2019-04-07 18:37:58.568  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:37:58.569  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:37:58.625  INFO 414856 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 18:37:58.662  INFO 414856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93ms. Found 2 repository interfaces.
2019-04-07 18:37:59.106  INFO 414856 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bb8aa3c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:37:59.126  INFO 414856 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$fa11a12] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:37:59.139  INFO 414856 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:37:59.404  INFO 414856 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 18:37:59.493  INFO 414856 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 18:37:59.580  INFO 414856 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 18:37:59.648  INFO 414856 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 18:37:59.649  INFO 414856 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 18:37:59.767  INFO 414856 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 18:37:59.933  INFO 414856 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 18:38:01.041  INFO 414856 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6a2a24c'
2019-04-07 18:38:01.045  INFO 414856 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 18:38:01.113  INFO 414856 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 18:38:02.059  INFO 414856 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:38:02.106  INFO 414856 --- [cluster-ClusterId{value='5caa195a4d667a54881d775f', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:152}] to localhost:27017
2019-04-07 18:38:02.113  INFO 414856 --- [cluster-ClusterId{value='5caa195a4d667a54881d775f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2287600}
2019-04-07 18:38:02.298  INFO 414856 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:38:02.969  INFO 414856 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:153}] to localhost:27017
2019-04-07 18:38:03.032  INFO 414856 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@572b97bd from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:38:03.034  INFO 414856 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@86404d7 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:38:03.318  INFO 414856 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 18:38:03.398  INFO 414856 --- [restartedMain] org.reflections.Reflections              : Reflections took 55 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 18:38:03.419  INFO 414856 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 18:38:03.421  INFO 414856 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 18:38:03.422  INFO 414856 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 18:38:03.428  INFO 414856 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 18:38:03.646  INFO 414856 --- [cluster-ClusterId{value='5caa195a4d667a54881d7760', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:154}] to localhost:27017
2019-04-07 18:38:03.649  INFO 414856 --- [cluster-ClusterId{value='5caa195a4d667a54881d7760', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2304400}
2019-04-07 18:38:03.681  INFO 414856 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:155}] to localhost:27017
2019-04-07 18:38:03.681  INFO 414856 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:156}] to localhost:27017
2019-04-07 18:38:04.145  INFO 414856 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 18:38:04.346  WARN 414856 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 18:38:04.348  INFO 414856 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 18:38:04.373  INFO 414856 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 18:38:04.657  INFO 414856 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 18:38:04.661  INFO 414856 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 9.517 seconds (JVM running for 11.862)
2019-04-07 18:38:04.826  INFO 414856 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 18:38:04.828  INFO 414856 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 18:38:04.834  INFO 414856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 18:38:05.197  WARN 414856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:38:05.206  INFO 414856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 18:38:05.232  WARN 414856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:38:05.239  INFO 414856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 18:38:05.334  WARN 414856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:38:05.335  INFO 414856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 18:38:05.342  WARN 414856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:38:05.343  INFO 414856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 18:38:05.351  WARN 414856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:38:05.352  INFO 414856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 18:40:23.563  INFO 400988 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 400988 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 18:40:23.566  INFO 400988 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 18:40:23.614  INFO 400988 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 18:40:23.614  INFO 400988 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 18:40:24.518  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:40:24.519  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:40:24.563  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40ms. Found 0 repository interfaces.
2019-04-07 18:40:24.564  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:40:24.565  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:40:24.590  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25ms. Found 1 repository interfaces.
2019-04-07 18:40:25.437  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:40:25.438  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:40:25.543  INFO 400988 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 18:40:25.545  INFO 400988 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 18:40:25.575  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131ms. Found 1 repository interfaces.
2019-04-07 18:40:25.582  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:40:25.584  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:40:25.629  INFO 400988 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 18:40:25.663  INFO 400988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79ms. Found 2 repository interfaces.
2019-04-07 18:40:26.083  INFO 400988 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1a65134d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:40:26.102  INFO 400988 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1e4d8323] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:40:26.113  INFO 400988 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:40:26.363  INFO 400988 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 18:40:26.454  INFO 400988 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 18:40:26.549  INFO 400988 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 18:40:26.611  INFO 400988 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 18:40:26.613  INFO 400988 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 18:40:26.731  INFO 400988 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 18:40:26.896  INFO 400988 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 18:40:28.154  INFO 400988 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@38b01d40'
2019-04-07 18:40:28.160  INFO 400988 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 18:40:28.227  INFO 400988 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 18:40:29.123  INFO 400988 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:40:29.171  INFO 400988 --- [cluster-ClusterId{value='5caa19ed4d667a1e5cbbdb21', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:157}] to localhost:27017
2019-04-07 18:40:29.177  INFO 400988 --- [cluster-ClusterId{value='5caa19ed4d667a1e5cbbdb21', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2479800}
2019-04-07 18:40:29.856  INFO 400988 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:40:30.124  INFO 400988 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:158}] to localhost:27017
2019-04-07 18:40:30.184  INFO 400988 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@3c3db710 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:40:30.186  INFO 400988 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@3e19d0d2 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:40:30.460  INFO 400988 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 18:40:30.526  INFO 400988 --- [restartedMain] org.reflections.Reflections              : Reflections took 41 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 18:40:30.546  INFO 400988 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 18:40:30.548  INFO 400988 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 18:40:30.548  INFO 400988 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 18:40:30.553  INFO 400988 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 18:40:30.770  INFO 400988 --- [cluster-ClusterId{value='5caa19ed4d667a1e5cbbdb22', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:159}] to localhost:27017
2019-04-07 18:40:30.772  INFO 400988 --- [cluster-ClusterId{value='5caa19ed4d667a1e5cbbdb22', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1990600}
2019-04-07 18:40:30.804  INFO 400988 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:160}] to localhost:27017
2019-04-07 18:40:30.804  INFO 400988 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:161}] to localhost:27017
2019-04-07 18:40:31.298  INFO 400988 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 18:40:31.510  WARN 400988 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 18:40:31.512  INFO 400988 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 18:40:31.525  INFO 400988 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 18:40:31.807  INFO 400988 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 18:40:31.811  INFO 400988 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 8.892 seconds (JVM running for 11.047)
2019-04-07 18:40:32.504  INFO 400988 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 18:40:32.508  INFO 400988 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 18:40:32.522  INFO 400988 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 18:40:32.562  WARN 400988 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:40:32.563  INFO 400988 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 18:40:32.568  WARN 400988 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:40:32.569  INFO 400988 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 18:40:32.573  WARN 400988 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:40:32.574  INFO 400988 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 18:40:32.578  WARN 400988 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:40:32.579  INFO 400988 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 18:40:32.582  WARN 400988 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:40:32.583  INFO 400988 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 18:44:51.724  INFO 419204 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 419204 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 18:44:51.729  INFO 419204 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 18:44:51.780  INFO 419204 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 18:44:51.781  INFO 419204 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 18:44:52.727  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:44:52.729  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:44:52.771  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38ms. Found 0 repository interfaces.
2019-04-07 18:44:52.772  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:44:52.773  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:44:52.796  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23ms. Found 1 repository interfaces.
2019-04-07 18:44:53.611  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:44:53.612  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:44:53.695  INFO 419204 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 18:44:53.696  INFO 419204 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 18:44:53.727  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 111ms. Found 1 repository interfaces.
2019-04-07 18:44:53.734  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:44:53.735  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:44:53.781  INFO 419204 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 18:44:53.815  INFO 419204 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79ms. Found 2 repository interfaces.
2019-04-07 18:44:54.316  INFO 419204 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e7126be8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:44:54.351  INFO 419204 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$eafadbbe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:44:54.371  INFO 419204 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:44:54.651  INFO 419204 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 18:44:54.731  INFO 419204 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 18:44:54.820  INFO 419204 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 18:44:54.880  INFO 419204 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 18:44:54.882  INFO 419204 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 18:44:55.000  INFO 419204 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 18:44:55.163  INFO 419204 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 18:44:56.215  INFO 419204 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@582edd59'
2019-04-07 18:44:56.220  INFO 419204 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 18:44:56.286  INFO 419204 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 18:44:57.204  INFO 419204 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:44:57.254  INFO 419204 --- [cluster-ClusterId{value='5caa1af94d667a658440ee55', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:162}] to localhost:27017
2019-04-07 18:44:57.261  INFO 419204 --- [cluster-ClusterId{value='5caa1af94d667a658440ee55', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2412000}
2019-04-07 18:44:57.960  INFO 419204 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:44:58.272  INFO 419204 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:163}] to localhost:27017
2019-04-07 18:44:58.326  INFO 419204 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@1d754291 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:44:58.329  INFO 419204 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@4adbbd6c from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:44:58.640  INFO 419204 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 18:44:58.695  INFO 419204 --- [restartedMain] org.reflections.Reflections              : Reflections took 34 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 18:44:58.713  INFO 419204 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 18:44:58.715  INFO 419204 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 18:44:58.716  INFO 419204 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 18:44:58.720  INFO 419204 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 18:44:58.982  INFO 419204 --- [cluster-ClusterId{value='5caa1af94d667a658440ee56', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:164}] to localhost:27017
2019-04-07 18:44:58.984  INFO 419204 --- [cluster-ClusterId{value='5caa1af94d667a658440ee56', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1260900}
2019-04-07 18:44:59.012  INFO 419204 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:165}] to localhost:27017
2019-04-07 18:44:59.012  INFO 419204 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:166}] to localhost:27017
2019-04-07 18:44:59.421  INFO 419204 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 18:44:59.615  WARN 419204 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 18:44:59.618  INFO 419204 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 18:44:59.633  INFO 419204 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 18:45:00.573  INFO 419204 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 18:45:00.578  INFO 419204 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 9.962 seconds (JVM running for 12.373)
2019-04-07 18:45:00.794  INFO 419204 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 18:45:00.797  INFO 419204 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 18:45:00.806  INFO 419204 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 18:45:00.831  WARN 419204 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:45:00.832  INFO 419204 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 18:45:00.837  WARN 419204 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:45:00.839  INFO 419204 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 18:45:00.843  WARN 419204 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:45:00.844  INFO 419204 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 18:45:00.848  WARN 419204 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:45:00.850  INFO 419204 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 18:45:00.852  WARN 419204 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:45:00.855  INFO 419204 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 18:53:39.476  INFO 392632 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 392632 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 18:53:39.480  INFO 392632 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 18:53:39.538  INFO 392632 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 18:53:39.538  INFO 392632 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 18:53:40.513  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:53:40.514  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:53:40.561  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43ms. Found 0 repository interfaces.
2019-04-07 18:53:40.562  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:53:40.563  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:53:40.595  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32ms. Found 1 repository interfaces.
2019-04-07 18:53:40.885  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:53:40.885  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:53:40.945  INFO 392632 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 18:53:40.946  INFO 392632 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 18:53:40.968  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81ms. Found 1 repository interfaces.
2019-04-07 18:53:40.973  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:53:40.974  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:53:41.011  INFO 392632 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 18:53:41.033  INFO 392632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59ms. Found 2 repository interfaces.
2019-04-07 18:53:41.367  INFO 392632 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c6b3efe3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:53:41.383  INFO 392632 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$ca9c5fb9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:53:41.393  INFO 392632 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:53:42.101  INFO 392632 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 18:53:42.216  INFO 392632 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 18:53:42.328  INFO 392632 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 18:53:42.398  INFO 392632 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 18:53:42.401  INFO 392632 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 18:53:42.541  INFO 392632 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 18:53:42.754  INFO 392632 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 18:53:43.383  INFO 392632 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6a6d7b3b'
2019-04-07 18:53:43.387  INFO 392632 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 18:53:43.439  INFO 392632 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 18:53:44.900  INFO 392632 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:53:44.949  INFO 392632 --- [cluster-ClusterId{value='5caa1d084d667afdb8f40aff', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:167}] to localhost:27017
2019-04-07 18:53:44.957  INFO 392632 --- [cluster-ClusterId{value='5caa1d084d667afdb8f40aff', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2847900}
2019-04-07 18:53:45.190  INFO 392632 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:53:45.378  INFO 392632 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:168}] to localhost:27017
2019-04-07 18:53:45.423  INFO 392632 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@70ee1cb7 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:53:45.426  INFO 392632 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@62bca0b0 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:53:45.653  INFO 392632 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 18:53:45.709  INFO 392632 --- [restartedMain] org.reflections.Reflections              : Reflections took 33 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 18:53:45.724  INFO 392632 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 18:53:45.726  INFO 392632 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 18:53:45.727  INFO 392632 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 18:53:45.730  INFO 392632 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 18:53:45.964  INFO 392632 --- [cluster-ClusterId{value='5caa1d094d667afdb8f40b00', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:169}] to localhost:27017
2019-04-07 18:53:45.983  INFO 392632 --- [cluster-ClusterId{value='5caa1d094d667afdb8f40b00', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=13862100}
2019-04-07 18:53:46.256  INFO 392632 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:170}] to localhost:27017
2019-04-07 18:53:46.256  INFO 392632 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:171}] to localhost:27017
2019-04-07 18:53:46.985  INFO 392632 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 18:53:47.209  WARN 392632 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 18:53:47.213  INFO 392632 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 18:53:47.230  INFO 392632 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 18:53:47.604  INFO 392632 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 18:53:47.608  INFO 392632 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 9.271 seconds (JVM running for 11.602)
2019-04-07 18:53:47.811  INFO 392632 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 18:53:47.813  INFO 392632 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 18:53:47.820  INFO 392632 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 18:53:47.839  WARN 392632 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:53:47.839  INFO 392632 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 18:53:47.842  WARN 392632 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:53:47.843  INFO 392632 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 18:53:47.844  WARN 392632 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:53:47.845  INFO 392632 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 18:53:47.847  WARN 392632 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:53:47.848  INFO 392632 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 18:53:47.849  WARN 392632 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:53:47.850  INFO 392632 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 18:58:07.986  INFO 424380 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 424380 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 18:58:07.989  INFO 424380 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 18:58:08.033  INFO 424380 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 18:58:08.033  INFO 424380 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 18:58:08.877  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:58:08.879  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:58:08.918  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35ms. Found 0 repository interfaces.
2019-04-07 18:58:08.919  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:58:08.919  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:58:08.941  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21ms. Found 1 repository interfaces.
2019-04-07 18:58:09.794  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:58:09.795  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:58:09.872  INFO 424380 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 18:58:09.874  INFO 424380 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 18:58:09.900  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 101ms. Found 1 repository interfaces.
2019-04-07 18:58:09.907  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 18:58:09.908  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 18:58:09.953  INFO 424380 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 18:58:09.982  INFO 424380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74ms. Found 2 repository interfaces.
2019-04-07 18:58:10.399  INFO 424380 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$93c4d750] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:58:10.418  INFO 424380 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$97ad4726] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:58:10.430  INFO 424380 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 18:58:10.679  INFO 424380 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 18:58:10.755  INFO 424380 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 18:58:10.839  INFO 424380 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 18:58:10.898  INFO 424380 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 18:58:10.900  INFO 424380 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 18:58:11.018  INFO 424380 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 18:58:11.643  INFO 424380 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 18:58:12.418  INFO 424380 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@26bbb12f'
2019-04-07 18:58:12.423  INFO 424380 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 18:58:12.478  INFO 424380 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 18:58:13.298  INFO 424380 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:58:13.342  INFO 424380 --- [cluster-ClusterId{value='5caa1e154d667a79bcdbcd1a', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:172}] to localhost:27017
2019-04-07 18:58:13.348  INFO 424380 --- [cluster-ClusterId{value='5caa1e154d667a79bcdbcd1a', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2482000}
2019-04-07 18:58:13.903  INFO 424380 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 18:58:14.209  INFO 424380 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:173}] to localhost:27017
2019-04-07 18:58:14.256  INFO 424380 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@56101d7e from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:58:14.258  INFO 424380 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@726c6337 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 18:58:14.523  INFO 424380 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 18:58:14.583  INFO 424380 --- [restartedMain] org.reflections.Reflections              : Reflections took 35 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 18:58:14.612  INFO 424380 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 18:58:14.614  INFO 424380 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 18:58:14.615  INFO 424380 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 18:58:14.619  INFO 424380 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 18:58:14.844  INFO 424380 --- [cluster-ClusterId{value='5caa1e154d667a79bcdbcd1b', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:174}] to localhost:27017
2019-04-07 18:58:14.846  INFO 424380 --- [cluster-ClusterId{value='5caa1e154d667a79bcdbcd1b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1894300}
2019-04-07 18:58:14.876  INFO 424380 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:175}] to localhost:27017
2019-04-07 18:58:14.876  INFO 424380 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:176}] to localhost:27017
2019-04-07 18:58:15.289  INFO 424380 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 18:58:15.477  WARN 424380 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 18:58:15.479  INFO 424380 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 18:58:15.494  INFO 424380 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 18:58:15.784  INFO 424380 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 18:58:15.789  INFO 424380 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 8.395 seconds (JVM running for 10.447)
2019-04-07 18:58:15.964  INFO 424380 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 18:58:15.966  INFO 424380 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 18:58:15.972  INFO 424380 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 18:58:15.990  WARN 424380 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:58:15.990  INFO 424380 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 18:58:15.994  WARN 424380 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:58:15.994  INFO 424380 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 18:58:15.997  WARN 424380 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:58:15.997  INFO 424380 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 18:58:16.000  WARN 424380 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:58:16.000  INFO 424380 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 18:58:16.002  WARN 424380 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 18:58:16.002  INFO 424380 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 19:08:18.973  INFO 429968 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 429968 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 19:08:18.977  INFO 429968 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 19:08:19.034  INFO 429968 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 19:08:19.035  INFO 429968 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 19:08:19.959  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:08:19.960  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:08:20.001  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36ms. Found 0 repository interfaces.
2019-04-07 19:08:20.001  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:08:20.002  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:08:20.028  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26ms. Found 1 repository interfaces.
2019-04-07 19:08:20.321  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:08:20.321  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:08:20.378  INFO 429968 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 19:08:20.379  INFO 429968 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 19:08:20.401  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78ms. Found 1 repository interfaces.
2019-04-07 19:08:20.407  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:08:20.408  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:08:20.445  INFO 429968 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 19:08:20.468  INFO 429968 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60ms. Found 2 repository interfaces.
2019-04-07 19:08:21.377  INFO 429968 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$edd91ab1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:08:21.403  INFO 429968 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f1c18a87] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:08:21.417  INFO 429968 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:08:21.700  INFO 429968 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 19:08:21.792  INFO 429968 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 19:08:21.889  INFO 429968 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 19:08:21.956  INFO 429968 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 19:08:21.959  INFO 429968 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 19:08:22.087  INFO 429968 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 19:08:22.267  INFO 429968 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 19:08:22.863  INFO 429968 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6e132dde'
2019-04-07 19:08:22.866  INFO 429968 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 19:08:22.915  INFO 429968 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 19:08:24.271  INFO 429968 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 19:08:24.324  INFO 429968 --- [cluster-ClusterId{value='5caa20784d667a8f90aa1f62', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:177}] to localhost:27017
2019-04-07 19:08:24.332  INFO 429968 --- [cluster-ClusterId{value='5caa20784d667a8f90aa1f62', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2789700}
2019-04-07 19:08:24.586  INFO 429968 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 19:08:24.773  INFO 429968 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:178}] to localhost:27017
2019-04-07 19:08:24.810  INFO 429968 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@205abbd6 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 19:08:24.812  INFO 429968 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@3bd38cce from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 19:08:24.981  INFO 429968 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 19:08:25.033  INFO 429968 --- [restartedMain] org.reflections.Reflections              : Reflections took 35 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 19:08:25.048  INFO 429968 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 19:08:25.050  INFO 429968 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 19:08:25.050  INFO 429968 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 19:08:25.053  INFO 429968 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 19:08:25.255  INFO 429968 --- [cluster-ClusterId{value='5caa20784d667a8f90aa1f63', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:179}] to localhost:27017
2019-04-07 19:08:25.257  INFO 429968 --- [cluster-ClusterId{value='5caa20784d667a8f90aa1f63', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1543200}
2019-04-07 19:08:25.335  INFO 429968 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:181}] to localhost:27017
2019-04-07 19:08:25.345  INFO 429968 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:180}] to localhost:27017
2019-04-07 19:08:26.214  INFO 429968 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 19:08:26.462  WARN 429968 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 19:08:26.465  INFO 429968 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 19:08:26.481  INFO 429968 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 19:08:26.905  INFO 429968 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 19:08:26.910  INFO 429968 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 9.006 seconds (JVM running for 11.238)
2019-04-07 19:08:27.113  INFO 429968 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 19:08:27.115  INFO 429968 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 19:08:27.124  INFO 429968 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 19:08:27.144  WARN 429968 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:08:27.145  INFO 429968 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 19:08:27.148  WARN 429968 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:08:27.148  INFO 429968 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 19:08:27.151  WARN 429968 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:08:27.152  INFO 429968 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 19:08:27.155  WARN 429968 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:08:27.156  INFO 429968 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 19:08:27.158  WARN 429968 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:08:27.159  INFO 429968 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 19:11:05.488  INFO 430856 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 430856 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 19:11:05.492  INFO 430856 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 19:11:05.557  INFO 430856 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 19:11:05.557  INFO 430856 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 19:11:06.599  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:11:06.600  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:11:06.652  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 0 repository interfaces.
2019-04-07 19:11:06.653  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:11:06.653  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:11:06.679  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26ms. Found 1 repository interfaces.
2019-04-07 19:11:07.482  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:11:07.484  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:11:07.576  INFO 430856 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 19:11:07.578  INFO 430856 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 19:11:07.618  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131ms. Found 1 repository interfaces.
2019-04-07 19:11:07.628  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:11:07.630  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:11:07.681  INFO 430856 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 19:11:07.717  INFO 430856 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86ms. Found 2 repository interfaces.
2019-04-07 19:11:08.132  INFO 430856 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a179749d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:11:08.151  INFO 430856 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$a561e473] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:11:08.166  INFO 430856 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:11:08.422  INFO 430856 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 19:11:08.497  INFO 430856 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 19:11:08.584  INFO 430856 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 19:11:08.655  INFO 430856 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 19:11:08.656  INFO 430856 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 19:11:08.774  INFO 430856 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 19:11:08.938  INFO 430856 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 19:11:09.953  INFO 430856 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@669f6e9e'
2019-04-07 19:11:09.958  INFO 430856 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 19:11:10.027  INFO 430856 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 19:11:10.961  INFO 430856 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 19:11:11.009  INFO 430856 --- [cluster-ClusterId{value='5caa211e4d667a93081450af', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:182}] to localhost:27017
2019-04-07 19:11:11.016  INFO 430856 --- [cluster-ClusterId{value='5caa211e4d667a93081450af', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2252500}
2019-04-07 19:11:11.232  INFO 430856 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 19:11:11.406  INFO 430856 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:183}] to localhost:27017
2019-04-07 19:11:11.442  INFO 430856 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@4719a0c6 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 19:11:11.444  INFO 430856 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@1c7bd7 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 19:11:11.641  INFO 430856 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 19:11:11.700  INFO 430856 --- [restartedMain] org.reflections.Reflections              : Reflections took 37 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 19:11:11.716  INFO 430856 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 19:11:11.718  INFO 430856 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 19:11:11.718  INFO 430856 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 19:11:11.722  INFO 430856 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 19:11:11.924  INFO 430856 --- [cluster-ClusterId{value='5caa211f4d667a93081450b0', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:184}] to localhost:27017
2019-04-07 19:11:11.926  INFO 430856 --- [cluster-ClusterId{value='5caa211f4d667a93081450b0', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1386500}
2019-04-07 19:11:11.986  INFO 430856 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:186}] to localhost:27017
2019-04-07 19:11:11.986  INFO 430856 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:185}] to localhost:27017
2019-04-07 19:11:12.843  INFO 430856 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 19:11:13.117  WARN 430856 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 19:11:13.120  INFO 430856 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 19:11:13.145  INFO 430856 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 19:11:13.495  INFO 430856 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 19:11:13.500  INFO 430856 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 9.077 seconds (JVM running for 11.289)
2019-04-07 19:11:13.692  INFO 430856 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 19:11:13.694  INFO 430856 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 19:11:13.704  INFO 430856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 19:11:13.730  WARN 430856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:11:13.731  INFO 430856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 19:11:13.735  WARN 430856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:11:13.736  INFO 430856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 19:11:13.738  WARN 430856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:11:13.739  INFO 430856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 19:11:13.743  WARN 430856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:11:13.744  INFO 430856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 19:11:13.746  WARN 430856 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:11:13.747  INFO 430856 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 19:12:18.059  INFO 429932 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 429932 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 19:12:18.061  INFO 429932 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 19:12:18.106  INFO 429932 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 19:12:18.106  INFO 429932 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 19:12:19.489  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:12:19.492  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:12:19.545  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49ms. Found 0 repository interfaces.
2019-04-07 19:12:19.547  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:12:19.548  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:12:19.576  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28ms. Found 1 repository interfaces.
2019-04-07 19:12:19.963  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:12:19.964  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:12:20.031  INFO 429932 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 19:12:20.032  INFO 429932 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 19:12:20.059  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93ms. Found 1 repository interfaces.
2019-04-07 19:12:20.065  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:12:20.066  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:12:20.108  INFO 429932 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 19:12:20.132  INFO 429932 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65ms. Found 2 repository interfaces.
2019-04-07 19:12:20.525  INFO 429932 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$81d53da5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:12:20.542  INFO 429932 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$85bdad7b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:12:20.554  INFO 429932 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:12:21.302  INFO 429932 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 19:12:21.409  INFO 429932 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 19:12:21.528  INFO 429932 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 19:12:21.601  INFO 429932 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 19:12:21.604  INFO 429932 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 19:12:21.771  INFO 429932 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 19:12:21.988  INFO 429932 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 19:12:22.636  INFO 429932 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@45a59773'
2019-04-07 19:12:22.639  INFO 429932 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 19:12:22.697  INFO 429932 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 19:12:24.111  INFO 429932 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 19:12:24.168  INFO 429932 --- [cluster-ClusterId{value='5caa21684d667a8f6c7a14fc', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:187}] to localhost:27017
2019-04-07 19:12:24.176  INFO 429932 --- [cluster-ClusterId{value='5caa21684d667a8f6c7a14fc', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2682500}
2019-04-07 19:12:24.425  INFO 429932 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 19:12:24.607  INFO 429932 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:188}] to localhost:27017
2019-04-07 19:12:24.649  INFO 429932 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@5dfa5600 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 19:12:24.650  INFO 429932 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@4fb0ec43 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 19:12:24.879  INFO 429932 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 19:12:24.926  INFO 429932 --- [restartedMain] org.reflections.Reflections              : Reflections took 28 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 19:12:24.940  INFO 429932 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 19:12:24.942  INFO 429932 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 19:12:24.943  INFO 429932 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 19:12:24.946  INFO 429932 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 19:12:25.171  INFO 429932 --- [cluster-ClusterId{value='5caa21684d667a8f6c7a14fd', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:189}] to localhost:27017
2019-04-07 19:12:25.190  INFO 429932 --- [cluster-ClusterId{value='5caa21684d667a8f6c7a14fd', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=15184000}
2019-04-07 19:12:25.455  INFO 429932 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:190}] to localhost:27017
2019-04-07 19:12:25.481  INFO 429932 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:191}] to localhost:27017
2019-04-07 19:12:26.174  INFO 429932 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 19:12:26.409  WARN 429932 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 19:12:26.412  INFO 429932 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 19:12:26.429  INFO 429932 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 19:12:26.805  INFO 429932 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 19:12:26.808  INFO 429932 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 9.314 seconds (JVM running for 11.754)
2019-04-07 19:12:26.976  INFO 429932 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 19:12:26.978  INFO 429932 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 19:12:26.986  INFO 429932 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 19:12:27.003  WARN 429932 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:12:27.004  INFO 429932 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 19:12:27.008  WARN 429932 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:12:27.009  INFO 429932 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 19:12:27.011  WARN 429932 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:12:27.012  INFO 429932 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 19:12:27.015  WARN 429932 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:12:27.016  INFO 429932 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 19:12:27.018  WARN 429932 --- [nioEventLoopGroup-2-3] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:12:27.018  INFO 429932 --- [nioEventLoopGroup-2-3] reactor.Flux.OnAssembly.1                : | onComplete()
2019-04-07 19:13:17.938  INFO 431952 --- [restartedMain] ru.otus.spring16.Main                    : Starting Main on DESKTOP-NSOTLM2 with PID 431952 (C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16\target\classes started by anovikov in C:\Users\anovikov\IdeaProjects\spring-2018-11_novikov.inbox\spring16)
2019-04-07 19:13:17.941  INFO 431952 --- [restartedMain] ru.otus.spring16.Main                    : No active profile set, falling back to default profiles: default
2019-04-07 19:13:17.990  INFO 431952 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-04-07 19:13:17.991  INFO 431952 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-04-07 19:13:19.581  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:13:19.582  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:13:19.650  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61ms. Found 0 repository interfaces.
2019-04-07 19:13:19.651  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:13:19.652  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:13:19.680  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27ms. Found 1 repository interfaces.
2019-04-07 19:13:20.013  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:13:20.013  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:13:20.077  INFO 431952 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.BookRepositoryReactive.
2019-04-07 19:13:20.078  INFO 431952 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.repository.security.UserRepositoryReactive.
2019-04-07 19:13:20.102  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87ms. Found 1 repository interfaces.
2019-04-07 19:13:20.109  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2019-04-07 19:13:20.110  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-07 19:13:20.154  INFO 431952 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Reactive MongoDB - Could not safely identify store assignment for repository candidate interface ru.otus.spring16.batch.repository.SimpleCrudRepository.
2019-04-07 19:13:20.181  INFO 431952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71ms. Found 2 repository interfaces.
2019-04-07 19:13:20.525  INFO 431952 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4faa9529] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:13:20.542  INFO 431952 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$539304ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:13:20.552  INFO 431952 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-07 19:13:21.282  INFO 431952 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-07 19:13:21.415  INFO 431952 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-07 19:13:21.538  INFO 431952 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-07 19:13:21.611  INFO 431952 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-07 19:13:21.614  INFO 431952 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-07 19:13:21.784  INFO 431952 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-07 19:13:21.994  INFO 431952 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-07 19:13:22.623  INFO 431952 --- [restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@410c2344'
2019-04-07 19:13:22.628  INFO 431952 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-07 19:13:22.687  INFO 431952 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-04-07 19:13:24.039  INFO 431952 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 19:13:24.086  INFO 431952 --- [cluster-ClusterId{value='5caa21a44d667a9750517a54', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:192}] to localhost:27017
2019-04-07 19:13:24.093  INFO 431952 --- [cluster-ClusterId{value='5caa21a44d667a9750517a54', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2798000}
2019-04-07 19:13:24.346  INFO 431952 --- [restartedMain] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-04-07 19:13:24.543  INFO 431952 --- [restartedMain] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:193}] to localhost:27017
2019-04-07 19:13:24.583  INFO 431952 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@1c1924ea from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 19:13:24.585  INFO 431952 --- [restartedMain] org.mongodb.driver.cluster               : No server chosen by com.mongodb.async.client.ClientSessionHelper$1@5c7d3e50 from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2019-04-07 19:13:24.840  INFO 431952 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee acquired process lock, starting the data migration sequence..
2019-04-07 19:13:24.886  INFO 431952 --- [restartedMain] org.reflections.Reflections              : Reflections took 27 ms to scan 1 urls, producing 1 keys and 2 values 
2019-04-07 19:13:24.900  INFO 431952 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=startupFill, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Data, changeSetMethod=startupFill] passed over
2019-04-07 19:13:24.901  INFO 431952 --- [restartedMain] com.github.mongobee.Mongobee             : [ChangeSet: id=userFillout, author=baobingo, changeLogClass=ru.otus.spring16.bee.changelog.Security, changeSetMethod=userFillout] passed over
2019-04-07 19:13:24.902  INFO 431952 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee is releasing process lock.
2019-04-07 19:13:24.905  INFO 431952 --- [restartedMain] com.github.mongobee.Mongobee             : Mongobee has finished his job.
2019-04-07 19:13:25.099  INFO 431952 --- [cluster-ClusterId{value='5caa21a44d667a9750517a55', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:194}] to localhost:27017
2019-04-07 19:13:25.157  INFO 431952 --- [cluster-ClusterId{value='5caa21a44d667a9750517a55', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 5]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50162400}
2019-04-07 19:13:25.400  INFO 431952 --- [nioEventLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:195}] to localhost:27017
2019-04-07 19:13:25.415  INFO 431952 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:196}] to localhost:27017
2019-04-07 19:13:26.110  INFO 431952 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2019-04-07 19:13:26.334  WARN 431952 --- [restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2019-04-07 19:13:26.337  INFO 431952 --- [restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2
2019-04-07 19:13:26.353  INFO 431952 --- [restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.
2019-04-07 19:13:26.720  INFO 431952 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080
2019-04-07 19:13:26.724  INFO 431952 --- [restartedMain] ru.otus.spring16.Main                    : Started Main in 9.449 seconds (JVM running for 11.681)
2019-04-07 19:13:26.896  INFO 431952 --- [restartedMain] reactor.Flux.OnAssembly.1                : | onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)
2019-04-07 19:13:26.898  INFO 431952 --- [restartedMain] reactor.Flux.OnAssembly.1                : | request(unbounded)
2019-04-07 19:13:26.905  INFO 431952 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 34 [TITLE] Book #3 [AUTHOR] Author #3 [GENRE] Genre #3
)
2019-04-07 19:13:26.926  WARN 431952 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:13:26.927  INFO 431952 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 78 [TITLE] Book #7 [AUTHOR] Author #7 [GENRE] Genre #7
)
2019-04-07 19:13:26.930  WARN 431952 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:13:26.930  INFO 431952 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 89 [TITLE] Book #8 [AUTHOR] Author #8 [GENRE] Genre #8
)
2019-04-07 19:13:26.932  WARN 431952 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:13:26.933  INFO 431952 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 100 [TITLE] Book #9 [AUTHOR] Author #9 [GENRE] Genre #9
)
2019-04-07 19:13:26.936  WARN 431952 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:13:26.937  INFO 431952 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onNext([ID] 111 [TITLE] fsdf [AUTHOR] fsdf [GENRE] fsdf
)
2019-04-07 19:13:26.939  WARN 431952 --- [nioEventLoopGroup-2-2] ru.otus.spring16.Main                    : ACL exist.
2019-04-07 19:13:26.939  INFO 431952 --- [nioEventLoopGroup-2-2] reactor.Flux.OnAssembly.1                : | onComplete()
